<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Dog</title>
    </head>
    <body>
        <div id="parent"></div>
        <script type="module">
            import init from './pkg/display_picture.js';
            async function embed_picture() {
                await init();
            }
            embed_picture();

            let count = 0;
            putButtons();

            function putButton(){
                let button = document.createElement('button');
                button.id = 'add_soft_button';
                button.innerText = String(count);
                button.addEventListener('click', () => {
                    event()
                });
                let body = document.body;
                body.appendChild(button);
            }

            function event(){
                removeAllButtons()
                putButtons()
            }

            function removeAllButtons() {
                // ページ内のすべてのボタン要素を取得する
                let buttons = document.getElementsByTagName("button");

                // NodeListを配列に変換して、各ボタンを削除する
                Array.from(buttons).forEach(button => {
                    button.remove();
                });

                count++;
            }

            function putButtons(num){
                for (let i = 0; i < 4; i++) {
                    putButton();
                }
            }

        </script>
    </body>
</html>